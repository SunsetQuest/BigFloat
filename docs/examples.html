<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Examples - BigFloat Library</title>
    <meta name="description" content="Practical code examples and use cases for the BigFloat arbitrary-precision arithmetic library.">
    
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%234F46E5'/%3E%3Ctext x='50' y='65' font-family='monospace' font-size='40' fill='white' text-anchor='middle'%3EBF%3C/text%3E%3C/svg%3E">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <img src="BigFloatImage.png" alt="BigFloat Logo" class="logo-image">
                <span class="brand-text">BigFloat</span>
            </a>
            <div class="nav-links" id="navLinks">
                <a href="index.html" class="nav-link">Home</a>
                <a href="getting-started.html" class="nav-link">Getting Started</a>
                <a href="documentation.html" class="nav-link">Documentation</a>
                <a href="examples.html" class="nav-link active">Examples</a>
                <a href="architecture.html" class="nav-link">Architecture</a>
                <a href="https://github.com/SunsetQuest/BigFloat" class="nav-link external" target="_blank">GitHub</a>
            </div>
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                    <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"/>
                    </svg>
                    <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <!-- Page Header -->
        <section class="page-header">
            <div class="container">
                <h1>Code Examples</h1>
                <p class="page-subtitle">Practical examples demonstrating BigFloat's capabilities</p>
                <p class="page-subtitle">
                    Copy these snippets into your own projects to explore BigFloat‚Äôs precision, or remix them to
                    test performance at higher precisions than built-in numeric types can comfortably provide.
                </p>
            </div>
        </section>

        <!-- Example Categories -->
        <section class="section">
            <div class="container">
                <div class="example-categories">
                    <a href="#financial" class="category-card">
                        <div class="category-icon">üí∞</div>
                        <h3>Financial Calculations</h3>
                        <p>Compound interest, currency conversions</p>
                    </a>
                    <a href="#scientific" class="category-card">
                        <div class="category-icon">üî¨</div>
                        <h3>Scientific Computing</h3>
                        <p>Physics simulations, numerical methods</p>
                    </a>
                    <a href="#geometry" class="category-card">
                        <div class="category-icon">üìê</div>
                        <h3>Geometry & Trigonometry</h3>
                        <p>Area calculations, angle computations</p>
                    </a>
                    <a href="#crypto" class="category-card">
                        <div class="category-icon">üîê</div>
                        <h3>Cryptography</h3>
                        <p>Large prime numbers, modular arithmetic</p>
                    </a>
                </div>
            </div>
        </section>

        <!-- Financial Examples -->
        <section class="section section-alt" id="financial">
            <div class="container">
                <h2>Financial Calculations</h2>
                
                <div class="example-card">
                    <h3>Compound Interest Calculator</h3>
                    <p>Calculate compound interest with extreme precision, avoiding rounding errors that accumulate with standard floating-point.</p>
                    
                    <div class="code-example">
                        <div class="code-header">CompoundInterest.cs</div>
                        <pre><code class="language-csharp">using BigFloatLibrary;

// $10,000 at 5% annual rate, compounded daily for 30 years
BigFloat principal = new("10000.00000000000000");
BigFloat rate = new("0.05");
int compoundings = 365;
int years = 30;

BigFloat finalAmount = Calculate(principal, rate, compoundings, years);
BigFloat earned = finalAmount - principal;

Console.WriteLine($"Initial Investment: ${principal}");
Console.WriteLine($"Final Amount: ${finalAmount}");
Console.WriteLine($"Interest Earned: ${earned}");

// Compare with double precision using the same formula
double doubleFinal = 10000 * Math.Pow(1 + 0.05 / compoundings, compoundings * years);
Console.WriteLine($"\nDouble precision: ${doubleFinal}");
Console.WriteLine($"Difference: ${(double)finalAmount - doubleFinal}");

static BigFloat Calculate(
    BigFloat principal,
    BigFloat annualRate,
    int compoundingsPerYear,
    int years)
{
    // Formula: A = P(1 + r/n)^(nt)
    BigFloat ratePerPeriod = annualRate / compoundingsPerYear;
    BigFloat onePlusRate = BigFloat.OneWithAccuracy(ratePerPeriod.Precision) + ratePerPeriod;
    int totalPeriods = compoundingsPerYear * years;

    BigFloat amount = principal * BigFloat.Pow(onePlusRate, totalPeriods);
    return amount;
}</code></pre>
                    </div>
                    <div class="output-box">
                        <h4>Output:</h4>
                        <pre><code>Initial Investment: $10000.00000000000000
Final Amount: $44812.28688522581
Interest Earned: $34812.28688522581

Double precision: $44812.28688522581
Difference: $0</code></pre>
                    </div>
                </div>

                <div class="example-card">
                    <h3>Currency Conversion with Exchange Rates</h3>
                    <p>Handle currency conversions with many decimal places, crucial for large transactions.</p>
                    
                    <div class="code-example">
                        <div class="code-header">CurrencyConverter.cs</div>
                        <pre><code class="language-csharp">using BigFloatLibrary;

CurrencyConverter converter = new();

// Set precise exchange rates (strings keep the exact decimal value)
converter.SetExchangeRate("USD", "EUR", "0.92385647291038475");
converter.SetExchangeRate("EUR", "JPY", "157.38492018374659");
converter.SetExchangeRate("USD", "BTC", "0.000015823947562839");
converter.SetExchangeRate("USD", "JPY", "145.401077250238547");

// Convert $1,000,000 through multiple currencies
BigFloat usd = new("1000000.0000000000");
BigFloat eur = converter.Convert(usd, "USD", "EUR");
BigFloat jpy = converter.Convert(eur, "EUR", "JPY");
BigFloat backToUsd = converter.Convert(jpy, "JPY", "USD");

Console.WriteLine($"Original USD:     ${usd}");
Console.WriteLine($"Converted to EUR: ‚Ç¨{eur}");
Console.WriteLine($"Converted to JPY: ¬•{jpy}");
Console.WriteLine($"Back to USD:      ${backToUsd}");
Console.WriteLine($"Precision loss:   ${usd - backToUsd}");

class CurrencyConverter
{
    private readonly Dictionary<string, BigFloat> exchangeRates = [];

    public void SetExchangeRate(string from, string to, string rate)
    {
        string key = $"{from}-{to}";
        exchangeRates[key] = new BigFloat(rate);
    }

    public BigFloat Convert(BigFloat amount, string from, string to)
    {
        string key = $"{from}-{to}";
        if (exchangeRates.TryGetValue(key, out BigFloat rate))
        {
            return amount * rate;
        }

        // Try reverse conversion
        string reverseKey = $"{to}-{from}";
        if (exchangeRates.TryGetValue(reverseKey, out BigFloat reverseRate))
        {
            return amount / reverseRate;
        }

        throw new InvalidOperationException($"No exchange rate found for {from} to {to}");
    }
}</code></pre>
                    </div>
                    <div class="output-box">
                        <h4>Output:</h4>
                        <pre><code>Original USD:     $1000000.0000000000
Converted to EUR: ‚Ç¨923856.4729103848
Converted to JPY: ¬•145401077.2502385
Back to USD:      $1000000.0000000000
Precision loss:   $0.0000000000</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Scientific Examples -->
        <section class="section" id="scientific">
            <div class="container">
                <h2>Scientific Computing</h2>

                <div class="example-card">
                    <h3>Newton-Raphson Root Finding</h3>
                    <p>Use BigFloat for stable convergence when solving equations with tiny derivatives.</p>

                    <div class="code-example">
                        <div class="code-header">NewtonRaphson.cs</div>
                        <pre><code class="language-csharp">using BigFloatLibrary;

// Solve x^3 - 2 = 0 (i.e., cube root of 2)
BigFloat tolerance = BigFloat.SetPrecision(BigFloat.One, 200);
BigFloat guess = new("1.25");

for (int i = 0; i < 20; i++)
{
    BigFloat fx = BigFloat.Pow(guess, 3) - 2;
    BigFloat fPrime = 3 * guess * guess;
    BigFloat next = guess - fx / fPrime;

    if (BigFloat.Abs(next - guess) < tolerance)
    {
        guess = next;
        break;
    }

    guess = next;
}

Console.WriteLine($"Cube root of 2: {guess.ToString(true)}");
Console.WriteLine($"Check: {BigFloat.Pow(guess, 3).ToString(true)}");</code></pre>
                    </div>
                    <div class="output-box">
                        <h4>Output:</h4>
                        <pre><code>Cube root of 2: 1.25992104989487316476721060727822835057
Check: 2.00000000000000000000000000000000000001</code></pre>
                    </div>
                </div>
                
                <div class="example-card">
                    <h3>Calculating œÄ Using Machin's Formula</h3>
                    <p>Compute œÄ to arbitrary precision using the Machin formula.</p>
                    
                    <div class="code-example">
                        <div class="code-header">MachinPi.cs</div>
                        <pre><code class="language-csharp">using BigFloatLibrary;
using static BigFloatLibrary.BigFloat;

Console.WriteLine("Calculating œÄ to various precisions:");

foreach (int bits in new[] { 100, 500, 1000 })
{
    var start = DateTime.Now;
    BigFloat pi = CalculatePi(bits);
    var elapsed = DateTime.Now - start;

    Console.WriteLine($"\nPrecision: {bits} bits");
    Console.WriteLine($"œÄ = {pi.ToString()}");
    Console.WriteLine($"Time: {elapsed.TotalMilliseconds:F2}ms");

    // Compare with library constant
    BigFloat libraryPi = Constants.GetConstant(Catalog.Pi, bits);
    Console.WriteLine($"Difference from library: {BigFloat.Abs(pi - libraryPi).ToString(true)}");
}

// Machin's formula: œÄ/4 = 4*arctan(1/5) - arctan(1/239)
static BigFloat CalculatePi(int precision)
{
    BigFloat arctan5 = ArcTan(BigFloat.OneWithAccuracy(precision) / 5, precision);
    BigFloat arctan239 = ArcTan(BigFloat.OneWithAccuracy(precision) / 239, precision);

    BigFloat piOver4 = 4 * arctan5 - arctan239;
    return 4 * piOver4;
}

// Calculate arctan(x) using Taylor series
static BigFloat ArcTan(BigFloat x, int precision)
{
    BigFloat sum = BigFloat.ZeroWithAccuracy(precision);
    BigFloat term = x;
    BigFloat xSquared = x * x;
    int n = 1;

    while (term.Precision > 0)
    {
        sum += term / n;
        term *= -xSquared;
        n += 2;

        // Limit iterations for reasonable computation time
        if (n > precision) break;
    }

    return sum;
}</code></pre>
                    </div>
                    <div class="output-box">
                        <h4>Output:</h4>
                        <pre><code>Calculating œÄ to various precisions:

Precision: 100 bits
œÄ = 3.14159265358979323846264338328
Time: 13500.95ms
Difference from library: 1e-38

Precision: 500 bits
œÄ = 3.14159265358979323846264338327950288419716939937510582097494459230781640628620899862803482534211706798214808651328230664709384460955058223172535940813
Time: 0.78ms
Difference from library: 3e-159

Precision: 1000 bits
œÄ = 3.141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067982148086513282306647093844609550582231725359408128481117450284102701938521105559644622948954930381964428810975665933446128475648233786783165271201909145648566923460348610454326648213393607260249141274
Time: 2.23ms
Difference from library: 1e-309</code></pre>
                    </div>
                </div>

                <div class="example-card">
                    <h3>Mandelbrot Set Computation</h3>
                    <p>Calculate points in the Mandelbrot set with arbitrary precision for deep zooms.</p>
                    
                    <div class="code-example">
                        <div class="code-header">Mandelbrot.cs</div>
                        <pre><code class="language-csharp">using BigFloatLibrary;

// Deep zoom coordinates requiring high precision
BigFloat centerX = new("-0.5000000000000000000");
BigFloat centerY = new("0.00000000000000000");
BigFloat zoom = new("0.0400000000000000"); //new("5e-13");

int width = 70;
int height = 60;
int maxIter = 200;

Console.WriteLine("Mandelbrot set visualization:");
Console.WriteLine($"Center: ({centerX}, {centerY})");
Console.WriteLine($"Zoom: {zoom}\n");

for (int py = 0; py < height; py++)
{
    for (int px = 0; px < width; px++)
    {
        BigFloat x = centerX + (px - width / 2) * zoom;
        BigFloat y = centerY + (py - height / 2) * zoom;

        int iterations = CalculateIterations(x, y, maxIter);

        // Simple ASCII visualization
        if (iterations == maxIter)
            Console.Write("‚ñà");
        else if (iterations > maxIter * 0.3)
            Console.Write("‚ñì");
        else if (iterations > maxIter * 0.2)
            Console.Write("‚ñí");
        else if (iterations > maxIter * 0.1)
            Console.Write("‚ñë");
        else
            Console.Write(" ");
    }
    Console.WriteLine();
}

static int CalculateIterations(
        BigFloat x0,
        BigFloat y0,
        int maxIterations,
        BigFloat escapeRadius = default)
{
    if (escapeRadius == default)
        escapeRadius = new BigFloat("4.0000000");

    //BigFloat x = BigFloat.ZeroWithAccuracy(100);
    //BigFloat y = BigFloat.ZeroWithAccuracy(100);
    BigFloat x = new("0.000000000000000001");
    BigFloat y = new("0.000000000000000001");

    for (int i = 0; i < maxIterations; i++)
    {
        BigFloat xSquared = x * x;
        BigFloat ySquared = y * y;

        // Check if escaped
        if (xSquared + ySquared > escapeRadius)
            return i;

        // z = z¬≤ + c
        BigFloat xNew = xSquared - ySquared + x0;
        y = 2 * x * y + y0;
        x = xNew;
    }

    return maxIterations;
}</code></pre>
                    </div>
                    <div class="output-box">
                        <h4>Output:</h4>
                        <pre><code>Mandelbrot set visualization:
Center: (-0.5000000000000000000, 0.00000000000000000)
Zoom: 0.0400000000000000
                                                ‚ñë
                                            ‚ñí‚ñì‚ñë
                                    ‚ñà       ‚ñí‚ñí‚ñì
                                            ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì
                                            ‚ñë‚ñì‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë
                                            ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
                                ‚ñë  ‚ñà       ‚ñà‚ñà‚ñà‚ñà    ‚ñë
                                    ‚ñà  ‚ñë‚ñì‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñí‚ñí‚ñí
                                    ‚ñà‚ñà‚ñí‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñí‚ñí    ‚ñë
                                    ‚ñë‚ñà‚ñà‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì ‚ñà‚ñà‚ñí
                                    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
                                    ‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
                                ‚ñí‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                                ‚ñí‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì
                                ‚ñì‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                    ‚ñë   ‚ñë        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                    ‚ñë  ‚ñí‚ñí      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
                    ‚ñë‚ñà‚ñë‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë  ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                    ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë
                    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì
                ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                ‚ñë‚ñà‚ñà‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
                ‚ñë‚ñà‚ñà‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì
                    ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë
                    ‚ñë‚ñà‚ñë‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë  ‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                    ‚ñë  ‚ñí‚ñí      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
                    ‚ñë   ‚ñë        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                                ‚ñì‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                                ‚ñí‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì
                                ‚ñí‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
                                    ‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
                                    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
                                    ‚ñë‚ñà‚ñà‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì ‚ñà‚ñà‚ñí
                                    ‚ñà‚ñà‚ñí‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñí‚ñí    ‚ñë
                                    ‚ñà  ‚ñë‚ñì‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì‚ñí‚ñí‚ñí
                                ‚ñë  ‚ñà       ‚ñà‚ñà‚ñà‚ñà    ‚ñë
                                            ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë
                                            ‚ñë‚ñì‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë
                                            ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñì
                                    ‚ñà       ‚ñí‚ñí‚ñì
                                            ‚ñí‚ñì‚ñë
                                                ‚ñë</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Geometry Examples -->
        <section class="section section-alt" id="geometry">
            <div class="container">
                <h2>Geometry & Trigonometry</h2>

                <div class="example-card">
                    <h3>High-Precision Circle Calculations</h3>
                    <p>Calculate circle properties with extreme precision.</p>

                    <div class="code-example">
                        <div class="code-header">CircleCalculations.cs</div>
                        <pre><code class="language-csharp">using BigFloatLibrary;

var calc = new CircleCalculations(2000); // 2000 bits precision

// Earth's radius at equator (meters)
BigFloat earthRadius = BigFloat.SetPrecision(new BigFloat("6378137"), 2000);

Console.WriteLine("Earth Calculations (at equator):");
Console.WriteLine($"Radius: {earthRadius} meters");

BigFloat circumference = calc.Circumference(earthRadius);
Console.WriteLine($"Circumference: {circumference} meters");
Console.WriteLine($"             = {circumference / 1000} kilometers");

BigFloat area = calc.Area(earthRadius);
Console.WriteLine($"Surface area: {area} square meters");
Console.WriteLine($"            = {area / 1000000} square kilometers");

// Calculate arc length for 1 degree
BigFloat oneDegreeRadians = calc.pi / 180;
BigFloat arcLength = calc.ArcLength(earthRadius, oneDegreeRadians);
Console.WriteLine($"\nArc length of 1¬∞: {arcLength} meters");
Console.WriteLine($"                = {arcLength / 1000} kilometers");

// Demonstrate precision vs double
double doubleCirc = 2 * Math.PI * 6378137;
Console.WriteLine($"\nDouble precision circumference: {doubleCirc}");
Console.WriteLine($"Difference: {circumference - (BigFloat)doubleCirc} meters");

public class CircleCalculations
{
    public readonly BigFloat pi;

    public CircleCalculations(int precisionBits = 1000)
    => pi = BigFloat.Constants.GetConstant("Pi", precisionBits);

    public BigFloat Area(BigFloat radius) => pi * radius * radius;

    public BigFloat Circumference(BigFloat radius) => 2 * pi * radius;

    public BigFloat ArcLength(BigFloat radius, BigFloat angleRadians)
    => radius * angleRadians;

    public static BigFloat SectorArea(BigFloat radius, BigFloat angleRadians)
    => radius * radius * angleRadians / 2;
}</code></pre>
                    </div>
                    <div class="output-box">
                        <h4>Output:</h4>
                        <pre><code>Earth Calculations (at equator):
Radius: 6378137.00000000000000000000 meters
Circumference: 40075016.685578486153176817761400357374609362882844278631351340354296798420282204407764836313606189059256908100139133742942350385552850243807420177358564732338022005391910068106377301750152963557105603262912166299801979504579074571197800263634786735862384999027382997235010474655210111659324060127354352339832393109971773229948598404534193780409542317886674685202063175352246124247754603037775230754064109063198477709573081839073372320095045568480203001720014521496943274522109078454959123775917562568374219911837794324879125494483798432799039182587258703479771115557382046302066983849065385273851073281 meters
= 40075.016685578486153176817761400357374609362882844278631351340354296798420282204407764836313606189059256908100139133742942350385552850243807420177358564732338022005391910068106377301750152963557105603262912166299801979504579074571197800263634786735862384999027382997235010474655210111659324060127354352339832393109971773229948598404534193780409542317886674685202063175352246124247754603037775230754064109063198477709573081839073372320095045568480203001720014521496943274522109078454959123775917562568374219911837794324879125494483798432799039182587258703479771115557382046302066983849065385273851073281 kilometers
Surface area: 127801973348952.754468782364453122395592109418974747879388465671956666759492971739187363994895377618933920839029548557036904546930529449797743563753878611993110117329702170553030902502126407686261613430539250407813460049075698732474157912090049393883556552335270757753917759001892978927974233091444251753384860780146628017896772331791050254557999988505389380808325315807525824519085600400277773298478017097194010774511551663740910960854787026828504808266390744130048474643065310615664738810421379757383581320932914686990950785422005205342388782687454775232618178451833907026327463303083063174617202331491 square meters
= 127801973.348952754468782364453122395592109418974747879388465671956666759492971739187363994895377618933920839029548557036904546930529449797743563753878611993110117329702170553030902502126407686261613430539250407813460049075698732474157912090049393883556552335270757753917759001892978927974233091444251753384860780146628017896772331791050254557999988505389380808325315807525824519085600400277773298478017097194010774511551663740910960854787026828504808266390744130048474643065310615664738810421379757383581320932914686990950785422005205342388782687454775232618178451833907026327463303083063174617202331491 square kilometers

Arc length of 1¬∞: 111319.490793273572647713382670556548262803785785678551753753723206379995611895012243791211982239414053491411389275371508173195515424584010576167159329346478716727792755305744739936949305980454325293342396978239721672165290497429364438334065652185377395513886187174992319473540708916976831455722575984312055089980861032703416523884457039427167804284216351874125561286598200683678465985008438264529872400302953329104748814116219648256444708459912445008338111151448602620207005858551263775343821993229356595055310660539791330904151343884535552886618297940842999364209881616795283519399580737181316252981336 meters
= 111.319490793273572647713382670556548262803785785678551753753723206379995611895012243791211982239414053491411389275371508173195515424584010576167159329346478716727792755305744739936949305980454325293342396978239721672165290497429364438334065652185377395513886187174992319473540708916976831455722575984312055089980861032703416523884457039427167804284216351874125561286598200683678465985008438264529872400302953329104748814116219648256444708459912445008338111151448602620207005858551263775343821993229356595055310660539791330904151343884535552886618297940842999364209881616795283519399580737181316252981336 kilometers

Double precision circumference: 40075016.68557849
Difference: 0.000000 meters</code></pre>
                    </div>
                </div>

                <div class="example-card">
                    <h3>Spherical Trigonometry</h3>
                    <p>Calculate distances on a sphere using the haversine formula.</p>

                    <div class="code-example">
                        <div class="code-header">SphericalDistance.cs</div>
                        <pre><code class="language-csharp">using BigFloatLibrary;

var calc = new SphericalDistanceNoInverse(200);
BigFloat earthRadius = new("6371000.00"); // meters

// New York City
BigFloat nycLat = new ("40.712800");
BigFloat nycLon = new ("-74.006000");
// London
BigFloat londonLat = new ("51.507400");
BigFloat londonLon = new ("-0.12780000");

BigFloat distance = calc.CalculateDistance(
nycLat, nycLon, londonLat, londonLon, earthRadius);

Console.WriteLine("Great Circle Distance: NYC ‚Üí London");
Console.WriteLine($"  NYC:    {nycLat}¬∞N, {nycLon}¬∞W");
Console.WriteLine($"  London: {londonLat}¬∞N, {londonLon}¬∞W");
Console.WriteLine($"  Distance = {distance} meters");
Console.WriteLine($"           = {distance / 1000} kilometers");
Console.WriteLine($"           = {distance / new BigFloat(1609.344)} miles");

class SphericalDistanceNoInverse(int precisionBits = 1000)
{
    private readonly BigFloat pi = BigFloat.Constants.GetConstant("Pi", precisionBits);
    readonly int precisionBits = precisionBits;

    // Convert degrees to radians
    BigFloat ToRadians(BigFloat degrees) => degrees * pi / BigFloat.SetPrecision(new BigFloat(180), precisionBits);

    /// <summary>
    /// Solve for the central angle c (in radians) from haversine term a:
    ///     a = sin¬≤(dlat/2) + cos(lat1)*cos(lat2)*sin¬≤(dlon/2)
    /// so that:
    ///     cos(c) = 1 - 2a.
    /// We find c via Newton's method on f(c)=cos(c)-(1-2a)=0.
    ///
    </summary>
    BigFloat SolveCentralAngle(BigFloat a)
    {
        // target = 1 - 2a
        BigFloat one = BigFloat.OneWithAccuracy(precisionBits);
        BigFloat two = one * 2;
        BigFloat target = one - two * a;

        // initial guess: for small a, c‚âà2‚àöa
        BigFloat c = two * BigFloat.Sqrt(a);

        // tolerance scaled to precision
        BigFloat tol = BigFloat.Pow(BigFloat.SetPrecision(BigFloat.SetPrecision(new BigFloat(10), precisionBits), precisionBits) , -((precisionBits / 3)));

        for (int iter = 0; iter < 50; iter++)
        {
            BigFloat f = BigFloat.Cos(c) - target;   // f(c)
            BigFloat df = -BigFloat.Sin(c);          // f'(c)

            if (df.IsZero)
            break;

            BigFloat delta = f / df;
            c -= delta;

            if (BigFloat.Abs(delta) < tol)
            break;
        }

        return c;
    }

    /// <summary>
    /// Great‚Äêcircle distance using only Sin, Cos, Sqrt, +, ‚àí, √ó, √∑.
    ///
    </summary>
    public BigFloat CalculateDistance(
    BigFloat lat1, BigFloat lon1,
    BigFloat lat2, BigFloat lon2,
    BigFloat radius)
    {
        // to radians
        lat1 = ToRadians(lat1);
        lon1 = ToRadians(lon1);
        lat2 = ToRadians(lat2);
        lon2 = ToRadians(lon2);

        // deltas
        BigFloat dlat = lat2 - lat1;
        BigFloat dlon = lon2 - lon1;
        BigFloat half = BigFloat.OneWithAccuracy(precisionBits) /2;

        // haversine 'a'
        BigFloat sin_dlat2 = BigFloat.Sin(dlat * half);
        BigFloat sin_dlon2 = BigFloat.Sin(dlon * half);
        BigFloat a = sin_dlat2 * sin_dlat2
        + BigFloat.Cos(lat1)
        * BigFloat.Cos(lat2)
        * (sin_dlon2 * sin_dlon2);

        // central angle c via solver
        BigFloat c = SolveCentralAngle(a);

        // arc length
        return radius * c;
    }
}</code></pre>
                    </div>
                </div>
                <div class="output-box">
                    <h4>Output:</h4>
                    <pre><code>Great Circle Distance: NYC ‚Üí London
NYC:    40.712800¬∞N, -74.006000¬∞W
London: 51.507400¬∞N, -0.12780000¬∞W
Distance = 5.572e+6 meters
= 5572.3 kilometers
= 3462.5 miles</code></pre>
                </div>
            </div>
        </section>

        <!-- Tips and Best Practices -->
        <section class="section">
            <div class="container">
                <h2>Tips and Best Practices</h2>
                
                <div class="tips-grid">
                    <div class="tip-card">
                        <h3>üéØ Choose Appropriate Precision</h3>
                        <p>
                            Don't use more precision than needed. Higher precision means more memory 
                            and slower operations. Start with the minimum required and increase if needed.
                        </p>
                        <pre><code class="language-csharp">// For financial calculations, 128-256 bits often sufficient
// For scientific computing, 500-1000 bits may be needed
// For mathematical research, 5000+ bits possible</code></pre>
                    </div>
                    
                    <div class="tip-card">
                        <h3>üîç Use String Initialization for Exact Values</h3>
                        <p>
                            When you need exact decimal values, always use string initialization to avoid
                            binary conversion issues.
                        </p>
                        <pre><code class="language-csharp">// Good - exact representation
BigFloat exact = new("0.1");

// Avoid - loses precision
BigFloat approx = new(0.1);</code></pre>
                    </div>
                    
                    <div class="tip-card">
                        <h3>‚ö° Cache Constants</h3>
                        <p>
                            If using mathematical constants repeatedly, load them once and reuse.
                        </p>
                        <pre><code class="language-csharp">// Load once
var constants = Constants.WithConfig(1000);
BigFloat pi = constants.Get("Pi");
BigFloat e = constants.Get("E");

// Reuse many times
for (int i = 0; i < 1000; i++)
{
    result = pi * radius[i] * radius[i];
}</code></pre>
                    </div>
                    
                    <div class="tip-card">
                        <h3>‚úÖ Check Conversion Safety</h3>
                        <p>
                            Always check if a BigFloat fits in a standard type before converting.
                        </p>
                        <pre><code class="language-csharp">if (bigValue.FitsInADouble())
{
    double d = (double)bigValue;
}
else
{
    // Handle overflow case
}</code></pre>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>BigFloat Library</h4>
                    <p>High-precision arithmetic for C#</p>
                    <p class="footer-meta">Created by Ryan Scott White</p>
                </div>
                
                <div class="footer-section">
                    <h4>Documentation</h4>
                    <ul class="footer-links">
                        <li><a href="getting-started.html">Getting Started</a></li>
                        <li><a href="documentation.html">API Reference</a></li>
                        <li><a href="examples.html">Examples</a></li>
                        <li><a href="architecture.html">Architecture</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Community</h4>
                    <ul class="footer-links">
                        <li><a href="https://github.com/SunsetQuest/BigFloat" target="_blank">GitHub Repository</a></li>
                        <li><a href="https://github.com/SunsetQuest/BigFloat/issues" target="_blank">Report Issues</a></li>
                        <li><a href="https://www.nuget.org/packages/BigFloatLibrary/" target="_blank">NuGet Package</a></li>
                        <li><a href="community.html">Contributing</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul class="footer-links">
                        <li><a href="https://codeproject.com/Articles/5375327/A-BigFloat-Library-in-Csharp" target="_blank">Original Article</a></li>
                        <li><a href="https://github.com/SunsetQuest/BigFloat/blob/master/LICENSE" target="_blank">MIT License</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2020-2025 BigFloat Library. Released under the MIT License.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>